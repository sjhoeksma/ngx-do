<div class="ngx-do-userroles">
<ngx-datatable 
      #mydatatable
      class="material"
      [headerHeight]="40"
      [rowHeight]="40"       
      [columnMode]="'force'"
      [footerHeight]="0"
      [rowHeight]="'auto'"
      [rows]="rows"
      >
      <ngx-datatable-column name="user" [draggable]="false" >
        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
          <div class="userroles_field"
            (dblclick)="editing[rowIndex + '-user']= !(value)"
            *ngIf="!editing[rowIndex + '-user']">
            {{(value ? value : "dbClick to edit")}}
          </div>
           <input
            matInput
            autofocus
            (blur)="updateValue($event, 'user', rowIndex)"
            *ngIf="editing[rowIndex+ '-user']"
            type="text"
            [value]="value"
          />
        </ng-template>
      </ngx-datatable-column>
  
      <ngx-datatable-column name="roles" [draggable]="false" >
        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">  
          <div class="userroles_field"
            (dblclick)="editing[rowIndex + '-roles'] = true"
            *ngIf="!editing[rowIndex + '-roles']">
            {{(value ? value : "dbClick to edit")}}
          </div>
           <mat-select 
               placeholder="select role"           
               *ngIf="editing[rowIndex + '-roles']"
              (selectionChange)="updateMatValue($event, 'roles', rowIndex)"
              (openedChange)="openedMatValue($event,'roles',rowIndex)"
              [value]="value"
              multiple         
              >
            <mat-option *ngFor="let role of roles" [value]="role">{{role}}</mat-option>
          </mat-select>
        </ng-template>
      </ngx-datatable-column>

  
  </ngx-datatable>
</div>